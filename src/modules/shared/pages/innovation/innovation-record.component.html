<h1 class="nhsuk-u-margin-bottom-3"> Innovation record </h1>

<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-full">

    <ul class="progressbar nhsuk-u-padding-bottom-5">
      <li *ngFor="let item of progressBar.blocks" class="progressbar-item" [ngClass]="{'active': item}"></li>
    </ul>

    <p class="d-flex align-items-center nhsuk-u-margin-0">
      <span class="progressbar-item active nhsuk-u-margin-right-2"></span> {{ progressBar.completed }}
    </p>

    <p class="d-flex align-items-center">
      <span class="progressbar-item nhsuk-u-margin-right-2"></span> {{ progressBar.uncompleted }}
    </p>

    <h2>All sections</h2>
    <a [href]="documentUrl">
      <h3 class="nhsuk-u-margin-bottom-6">Download all questions (DOCX, 820KB)</h3>
    </a>


    <!-- <svg class="nhsuk-icon nhsuk-icon__chevron-right" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
      <path d="M15.5 12a1 1 0 0 1-.29.71l-5 5a1 1 0 0 1-1.42-1.42l4.3-4.29-4.3-4.29a1 1 0 0 1 1.42-1.42l5 5a1 1 0 0 1 .29.71z"></path>
    </svg> -->


    <ol class="app-task-list">
      <li *ngFor="let sectionGroup of innovationSections; let i = index">

        <h2 class="app-task-list__section">
          <span class="app-task-list__section-number">{{ i + 1 }}. </span> {{ sectionGroup.title }}
          <span *ngIf="i === 0" class="nhsuk-heading-xs nhsuk-u-margin-bottom-0 float-r">Open actions</span>
        </h2>

        <ul class="app-task-list__items">
          <li *ngFor="let section of sectionGroup.sections; let j = index" class="app-task-list__item">

            <ng-container *ngIf="section.status !== 'UNKNOWN'">
              <span class="app-task-list__task-icon">
                <svg *ngIf="innovationSectionStatus[section.status].isCompleteState" class="nhsuk-icon nhsuk-icon__tick" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path stroke-width="4" stroke-linecap="round" d="M18.4 7.8l-8.5 8.4L5.6 12"></path>
                </svg>
                <svg *ngIf="!innovationSectionStatus[section.status].isCompleteState" class="nhsuk-icon nhsuk-icon__cross" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M17 18.5c-.4 0-.8-.1-1.1-.4l-10-10c-.6-.6-.6-1.6 0-2.1.6-.6 1.5-.6 2.1 0l10 10c.6.6.6 1.5 0 2.1-.3.3-.6.4-1 .4z"></path>
                  <path d="M7 18.5c-.4 0-.8-.1-1.1-.4-.6-.6-.6-1.5 0-2.1l10-10c.6-.6 1.5-.6 2.1 0 .6.6.6 1.5 0 2.1l-10 10c-.3.3-.6.4-1 .4z"></path>
                </svg>
              </span>
            </ng-container>

            <span class="app-task-list__task-name"> {{ (i + 1) + '.' + (j + 1) }} <a routerLink="{{ baseUrl }}/{{section.id}}" class="nhsuk-link">{{ section.title }}</a> </span>

            <strong *ngIf="section.actionStatus" class="nhsuk-tag app-task-list__tag" [ngClass]="innovationSectionActionStatus[section.actionStatus].cssClass">
              {{ innovationSectionActionStatus[section.actionStatus].label }}
            </strong>

          </li>
        </ul>

      </li>
    </ol>

  </div>
</div>
