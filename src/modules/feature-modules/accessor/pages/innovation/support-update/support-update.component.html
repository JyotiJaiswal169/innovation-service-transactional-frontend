<ng-container *ngIf="summaryAlert.type">
  <div class="nhsuk-error-summary" [ngClass]="{'border-color-warning': summaryAlert.type === 'warning'}" aria-labelledby="alert-summary-title" role="alert" tabindex="-1">
    <h2 class="nhsuk-error-summary__title" id="alert-summary-title">{{ summaryAlert.title }}</h2>
    <div class="nhsuk-error-summary__body" [innerHTML]="summaryAlert.message"></div>
  </div>
</ng-container>


<div class="nhsuk-width-container app-width-container nhsuk-u-padding-top-3">

  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full app-component-reading-width">
      <h1 class="nhsuk-heading-1">
           Update support status 
      </h1>
      <form [formGroup]="form">

        <ng-container *ngIf="stepNumber === 1">

          <div class="nhsuk-form-group">
            <div class="nhsuk-radios">
              <div *ngFor="let item of supportStatus; let i = index" class="nhsuk-radios__item">
                <input formControlName="status" id="status{{ i }}" type="radio" name="status" [value]="item.key" class="nhsuk-radios__input" />
                <label for="status{{ i }}" class="nhsuk-label nhsuk-radios__label nhsuk-radios__label_padding_5"><strong class="nhsuk-tag" [ngClass]="item.cssClass">{{ item.label }}</strong></label>
                <div class="nhsuk-hint nhsuk-radios__hint">{{ item.description }}</div>
              </div>
            </div>
          </div>

          <button class="nhsuk-button nhsuk-u-margin-top-3 nhsuk-u-margin-right-3" (click)="onSubmitStep()">Continue</button>

        </ng-container>
        <ng-container *ngIf="stepNumber === 2">
          
          <h3 class="nhsuk-heading-3">
            <section class="nhsuk-status_container">
              <div class="nhsuk-div_left">You selected </div>
              <div class="nhsuk-div_right">
                <strong class="nhsuk-tag" [ngClass]="currentStatus.cssClass">{{ currentStatus.label }}</strong>
              </div>
            </section>
          </h3>
          <p class="nhsuk-hint">
            {{currentStatus.description}}
          </p>
          <h3 class="nhsuk-heading-3 nhsuk-radios__heading_margin_bottom_5">
            Assign one or more accessors from {{ organisationUnit }}
          </h3>
          <div class="nhsuk-form-group">
           <theme-form-checkbox-array [arrayName]="accessorsArrayName" [items]="accessorList"></theme-form-checkbox-array>
          </div>

          <button class="nhsuk-button nhsuk-u-margin-top-3 nhsuk-u-margin-right-3" (click)="onSubmitStep()">Continue</button>

        </ng-container>

        <ng-container *ngIf="stepNumber === 3">

          <div class="nhsuk-form-group">
            <h3 class="nhsuk-heading-3 nhsuk-radios__heading_margin_bottom_5 nhsuk-cancel-wrapper">
              You assigned
            </h3>
            <div *ngFor="let item of selectedAccessors; let i = index">
              <theme-svg-icon  type="success" class="nhsuk-margin_top_0"></theme-svg-icon> <strong class="nhsuk-vertical_top nhsuk-padding_left_10">{{item.label}}</strong>
            </div>
            <br />
            <h3 class="nhsuk-heading-3 nhsuk-radios__heading_margin_bottom_5">
              Let the innovator know what's changed
            </h3>
            <br />
            <div>Enter your comment</div>
            <div class="nhsuk-form-group">
              <theme-form-textarea [controlName]="commentField" [cssOverride]="textAreaCssOverride"></theme-form-textarea>
            </div>
          </div>

          <button class="nhsuk-button nhsuk-u-margin-top-3 nhsuk-u-margin-right-3" (click)="onSubmit()">Submit</button>
        </ng-container>
        <div class="nhsuk-cancel-wrapper">
          <a routerLink="/accessor/innovations/{{ innovationId }}/support">Cancel</a>
        </div>
      </form>
    </div>
  </div>

</div>
