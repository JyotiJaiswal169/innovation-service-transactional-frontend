<div class="nhsuk-width-container app-width-container nhsuk-u-padding-top-1">

  <h1> {{ pageTitle }} </h1>

  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">

      <form [formGroup]="form">

        <table class="nhsuk-table-responsive app-sortable-table">
          <caption class="nhsuk-table__caption"> Organisations list </caption>

          <thead class="nhsuk-table__head">
            <tr>
              <th scope="col">
                <div>Organisation</div>
                <div>
                  <a href="{{organisationInfoUrl}}" class="app-link_normal" target="_blank" rel="noopener noreferrer">
                    What does each organisation do? (opens in new window)
                  </a>
                </div>
              </th>
            </tr>
          </thead>

          <tbody class="nhsuk-table__body">

            <tr class="nhsuk-table__row">
              <td class="nhsuk-table__cell app-table-cell_padding-bottom-10">
                <theme-form-checkbox-array [arrayName]="organisationShareArrayName" [items]="organisationsList" (customOnChangeFunc)="dataSharingValidation($event)"></theme-form-checkbox-array>
              </td>
            </tr>

          </tbody>

        </table>

      </form>

      <ng-container *ngIf="showWarning">
        <div class="nhsuk-grid-row nhsuk-u-padding-top-3">
          <div class="nhsuk-grid-column-full">
            <div class="nhsuk-warning-callout">
              <div class="nhsuk-heading-m nhsuk-warning-callout__label">
                <span role="text"> <span class="nhsuk-u-visually-hidden">Important: </span> {{ summaryAlert.title }} </span>
              </div>
              <p>{{ summaryAlert.message }}</p>
            </div>
          </div>
        </div>
      </ng-container>

      <button class="nhsuk-button nhsuk-u-margin-top-3 nhsuk-u-margin-right-3" (click)="onSubmit()">Save changes</button>

      <div>
        <a routerLink="/innovator/innovations/{{ innovationId }}/data-sharing"> Cancel </a>
      </div>

    </div>

  </div>
</div>
